# Release 更新日志

## V1.0a9 - 2021.7.12
### 重要更新
1. 增加PaddlePaddle的CUDA支持，CUDA支持方案为在打包时搜索开发者CUDA安装情况，抽取CUDA驱动至打包后的资源文件列表中，最后进行兼容性适配。该方案为QPT内测QQ群中赞同数量最高的方案。
2. 增加PaddlePaddle的增加自动的NoAVX的适配，10年前的老年台式机或许也可以跑深度学习啦~实测PaddleOCR也可以在这类旧平台上跑出1.5~4s的推理速度。
3. 增加了多个Debug小工具：快速进入Debug的Python环境、QPT环境以及收集Debug信息和打印当前pip list共4个小工具。
4. 增加PIPTools的强制模式，提升QPT下的pip的兼容性，再也不担心pip会认为0.18.0小于0.2.0啦~
5. 在用户使用时加入UA获取，进一步保障安装顺利。
6. 修复可能来自已经安装的Python冲突。
7. 修复可能来自已经安装的Conda冲突。
8. 增加跨版本编译的功能，暂时未开放跨版本模式。
9. SubModule增加ExtModule支持，允许SubModule产出新的ExtModule。
### Fix Bug
1. 修复打包路径判断Bug，现在允许在被打包的源码文件夹中保存打包后的文件。
2. 修复在用户使用时仍会弹出的Release警告窗，现在只会对开发者进行警告。
### 不兼容更新
1. 由于1.0a8中取消了PyQT的依赖，在a9版本中也暂时移除了QTerminal。（希望没有人用到啊啊啊）

## V1.0a8 - 2021.7.4
### 重要更新
1. 在打包时增加“是否隐藏终端”的接口，若待打包的程序为PyQT、WxPython等含有可视化界面的程序，在不需要控制台/终端界面时可配置该接口进行隐藏。  
   当然，若本身为控制台/终端界面的程序，这个隐藏就会很令人抓狂，QPT默认该接口为“不隐藏”。[使用文档](https://github.com/GT-ZhangAcer/QPT/blob/main/examples/advanced/%E9%9A%90%E8%97%8F%E6%8E%A7%E5%88%B6%E5%8F%B0%E7%AA%97%E5%8F%A3.md)
2. Kernel中增加copytree忽略文件级别的功能，后续将在开发自定义OP时暴露该接口。
3. 修改了CIL部分的文案，同时增加hidden_terminal的指令。
4. 增加WPF、MFC的进度条
5. 增加Debug、Run、Run-Hidden三种运行模式，开发者在Debug时仍可获取全量输出信息，用户则只会感知重要信息输出。
6. 打包前会对路径做判断，避免出现.和空格路径.
7. 运行后会对路径做判断，若出现空格、中文等当前Windows兼容不完善的路径则会提示使用者更换目录。
8. 加入PaddleHub、PaddleNLP、PaddleSeg深度适配方案，保证用户在使用中文用户名时可以读取参数。
9. PaddlePaddle增加对非AVX版本安装适配。
10. 增加VC2019运行库支持。 
11. 增加MFC运行库支持。
12. 增加日志系统，当用户使用出现问题时，可将configs/logs目录下日志信息收集，进而快速定位报错情况。
13. 自动控制Logging颜色，避免用户侧无法出现带有颜色的输出信息。

### Fix Bug
1. 修复了打包时传入的源文件路径与保存路径一致但没有报错的情况，当前若打包时两目录为同一目录则会raise一个报错信息，提示用户需要更改路径而不是强制覆盖文件。
2. 修复不同盘符打包可能出现失败的问题。
3. 修复了镜像源设置无效的问题。

### 不兼容更新
1. 进度条部分可能会从PyQT（约150M）更换为TK（25M 需要编译）、CLR+WPF（10M 难度较大）、Win32+MFC（0M 资料较少）三种方案中任一种，在选择hidden_terminal接口为False后将会取消所有依赖
2. 原none_gui接口更名为hidden_terminal，增加了可读性。
3. 调整目录结构，只保留exe与调试文件在目录外。

### 下个版本ToDO
1. 增加自定义图标接口
2. 增加CUDA支持
4. 取消PyQT作为必须依赖（可能需要重写自动化依赖搜索脚本）
5. 更新README

Tips：在未来两个版本中，仍不会出现V1.0RC版本，待大量测试验证后发布1.0RC
